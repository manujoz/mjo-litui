{"version":3,"file":"calendar-interactions.js","sources":["../../client/calendar-interactions.ts"],"sourcesContent":["// Calendar Interactive Demo TypeScript\r\n// This functionality loads after client hydration\r\n\r\nimport { MjoCalendar } from \"../../src/mjo-calendar\";\r\nimport type { CalendarDateSelectedEvent, CalendarRangeSelectedEvent } from \"../../src/types/mjo-calendar\";\r\n\r\n// Playground interactions\r\nfunction changeCalendarProp(prop: string, value: string | boolean): void {\r\n    const calendar = document.getElementById(\"playground-calendar\");\r\n    if (!calendar) return;\r\n\r\n    if (typeof value === \"string\") {\r\n        if (value === \"\") {\r\n            calendar.removeAttribute(prop);\r\n        } else {\r\n            calendar.setAttribute(prop, value);\r\n        }\r\n    } else {\r\n        if (value) {\r\n            calendar.setAttribute(prop, \"\");\r\n        } else {\r\n            calendar.removeAttribute(prop);\r\n        }\r\n    }\r\n\r\n    // Log the change\r\n    logEvent(`Property changed: ${prop} = ${value}`);\r\n}\r\n\r\n// Helper functions for calendar actions\r\nfunction resetCalendar(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\") as any;\r\n    if (!calendar) return;\r\n\r\n    // Reset the calendar to initial state\r\n    if (calendar.reset && typeof calendar.reset === \"function\") {\r\n        calendar.reset();\r\n        logEvent(\"Calendar reset to initial state\");\r\n    } else {\r\n        // Fallback: clear selection attributes\r\n        calendar.removeAttribute(\"value\");\r\n        calendar.removeAttribute(\"startDate\");\r\n        calendar.removeAttribute(\"endDate\");\r\n        logEvent(\"Calendar selection cleared\");\r\n    }\r\n}\r\n\r\nfunction setToday(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\") as MjoCalendar;\r\n    if (!calendar) return;\r\n\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n    const mode = calendar.getAttribute(\"mode\") || \"single\";\r\n\r\n    if (mode === \"single\") {\r\n        calendar.setAttribute(\"value\", today);\r\n        logEvent(`Set single date to today: ${today}`);\r\n    } else if (mode === \"range\") {\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(tomorrow.getDate() + 7);\r\n        const endDate = tomorrow.toISOString().split(\"T\")[0];\r\n\r\n        calendar.setAttribute(\"startDate\", today);\r\n        calendar.setAttribute(\"endDate\", endDate);\r\n        logEvent(`Set range to today through next week: ${today} - ${endDate}`);\r\n    }\r\n}\r\n\r\nfunction clearSelection(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\") as any;\r\n    if (!calendar) return;\r\n\r\n    if (calendar.resetSelection && typeof calendar.resetSelection === \"function\") {\r\n        calendar.resetSelection();\r\n        logEvent(\"Selection cleared via resetSelection()\");\r\n    } else {\r\n        // Fallback: clear selection attributes\r\n        calendar.removeAttribute(\"value\");\r\n        calendar.removeAttribute(\"startDate\");\r\n        calendar.removeAttribute(\"endDate\");\r\n        logEvent(\"Selection attributes cleared\");\r\n    }\r\n}\r\n\r\n// Event logging function\r\nfunction logEvent(message: string): void {\r\n    const eventOutput = document.getElementById(\"event-output\");\r\n    if (!eventOutput) return;\r\n\r\n    const timestamp = new Date().toLocaleTimeString();\r\n    const logEntry = document.createElement(\"div\");\r\n    logEntry.className = \"event-entry\";\r\n    logEntry.innerHTML = `<span class=\"timestamp\">[${timestamp}]</span> ${message}`;\r\n\r\n    eventOutput.insertBefore(logEntry, eventOutput.firstChild);\r\n\r\n    // Keep only last 10 entries\r\n    while (eventOutput.children.length > 10) {\r\n        const lastChild = eventOutput.lastChild;\r\n        if (lastChild) {\r\n            eventOutput.removeChild(lastChild);\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize calendar examples with special properties\r\nfunction initializeCalendarExamples(): void {\r\n    // Set up event markers example\r\n    const eventMarkersCalendar = document.getElementById(\"event-markers-example\");\r\n    if (eventMarkersCalendar) {\r\n        // Set event markers programmatically\r\n        const eventMarkers = [\r\n            { date: \"2024-12-25\", color: \"red\", tooltip: \"Christmas\" },\r\n            { date: \"2025-01-01\", color: \"green\", tooltip: \"New Year\" },\r\n        ];\r\n        (eventMarkersCalendar as any).eventMarkers = eventMarkers;\r\n    }\r\n}\r\n\r\n// Initialize interactions when the page loads\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Initialize special examples\r\n    initializeCalendarExamples();\r\n\r\n    // Add event listeners to all calendar components\r\n    document.querySelectorAll(\"mjo-calendar\").forEach((calendar) => {\r\n        calendar.addEventListener(\"date-selected\", (ev: Event) => {\r\n            const event = ev as CalendarDateSelectedEvent;\r\n            const value = event.detail.value;\r\n            const date = event.detail.date;\r\n\r\n            const dateStr = date ? date.toLocaleDateString() : value || \"Unknown\";\r\n            logEvent(`Date selected: ${dateStr}`);\r\n\r\n            // Update playground controls if this is the playground calendar\r\n            if (calendar.id === \"playground-calendar\") {\r\n                const valueInput = document.querySelector(\"input[name='value']\") as HTMLInputElement;\r\n                if (valueInput && value) {\r\n                    valueInput.value = value;\r\n                }\r\n            }\r\n        });\r\n\r\n        calendar.addEventListener(\"range-selected\", (ev: Event) => {\r\n            const event = ev as CalendarRangeSelectedEvent;\r\n            const startDate = event.detail.startDate;\r\n            const endDate = event.detail.endDate;\r\n            const startValue = event.detail.startDateValue;\r\n            const endValue = event.detail.endDateValue;\r\n\r\n            const startStr = startDate ? startDate.toLocaleDateString() : startValue || \"Unknown\";\r\n            const endStr = endDate ? endDate.toLocaleDateString() : endValue || \"Unknown\";\r\n            logEvent(`Range selected: ${startStr} - ${endStr}`);\r\n\r\n            // Update playground controls if this is the playground calendar\r\n            if (calendar.id === \"playground-calendar\") {\r\n                const startInput = document.querySelector(\"input[name='startDate']\") as HTMLInputElement;\r\n                const endInput = document.querySelector(\"input[name='endDate']\") as HTMLInputElement;\r\n\r\n                if (startInput && startValue) {\r\n                    startInput.value = startValue;\r\n                }\r\n                if (endInput && endValue) {\r\n                    endInput.value = endValue;\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    // Initialize event log\r\n    logEvent(\"Calendar demo page loaded and ready\");\r\n});\r\n\r\n// Make functions globally available\r\nwindow.changeCalendarProp = changeCalendarProp;\r\nwindow.resetCalendar = resetCalendar;\r\nwindow.setToday = setToday;\r\nwindow.clearSelection = clearSelection;\r\n\r\n// Type declarations for global functions\r\ndeclare global {\r\n    interface Window {\r\n        changeCalendarProp: (prop: string, value: string | boolean) => void;\r\n        resetCalendar: () => void;\r\n        setToday: () => void;\r\n        clearSelection: () => void;\r\n    }\r\n}\r\n"],"names":["changeCalendarProp","prop","value","calendar","logEvent","resetCalendar","setToday","today","mode","tomorrow","endDate","clearSelection","message","eventOutput","timestamp","logEntry","lastChild","initializeCalendarExamples","eventMarkersCalendar","eventMarkers","ev","event","date","dateStr","valueInput","startDate","startValue","endValue","startStr","endStr","startInput","endInput"],"mappings":"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"}