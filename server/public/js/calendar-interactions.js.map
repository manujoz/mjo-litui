{"version":3,"file":"calendar-interactions.js","sources":["../../client/calendar-interactions.ts"],"sourcesContent":["// Calendar Interactive Demo TypeScript\r\n// This functionality loads after client hydration\r\n\r\nimport type { CalendarDateSelectedEvent, CalendarRangeSelectedEvent } from \"../../src/types/mjo-calendar\";\r\n\r\n// Playground interactions\r\nfunction changeCalendarProp(prop: string, value: string | boolean): void {\r\n    const calendar = document.getElementById(\"playground-calendar\");\r\n    if (!calendar) return;\r\n\r\n    if (typeof value === \"string\") {\r\n        if (value === \"\") {\r\n            calendar.removeAttribute(prop);\r\n        } else {\r\n            calendar.setAttribute(prop, value);\r\n        }\r\n    } else {\r\n        if (value) {\r\n            calendar.setAttribute(prop, \"\");\r\n        } else {\r\n            calendar.removeAttribute(prop);\r\n        }\r\n    }\r\n\r\n    // Log the change\r\n    logEvent(`Property changed: ${prop} = ${value}`);\r\n}\r\n\r\n// Helper functions for calendar actions\r\nfunction resetCalendar(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\") as any;\r\n    if (!calendar) return;\r\n\r\n    // Reset the calendar to initial state\r\n    if (calendar.reset && typeof calendar.reset === \"function\") {\r\n        calendar.reset();\r\n        logEvent(\"Calendar reset to initial state\");\r\n    } else {\r\n        // Fallback: clear selection attributes\r\n        calendar.removeAttribute(\"value\");\r\n        calendar.removeAttribute(\"startDate\");\r\n        calendar.removeAttribute(\"endDate\");\r\n        logEvent(\"Calendar selection cleared\");\r\n    }\r\n}\r\n\r\nfunction setToday(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\");\r\n    if (!calendar) return;\r\n\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n    const mode = calendar.getAttribute(\"mode\") || \"single\";\r\n\r\n    if (mode === \"single\") {\r\n        calendar.setAttribute(\"value\", today);\r\n        logEvent(`Set single date to today: ${today}`);\r\n    } else if (mode === \"range\") {\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(tomorrow.getDate() + 7);\r\n        const endDate = tomorrow.toISOString().split(\"T\")[0];\r\n\r\n        calendar.setAttribute(\"startDate\", today);\r\n        calendar.setAttribute(\"endDate\", endDate);\r\n        logEvent(`Set range to today through next week: ${today} - ${endDate}`);\r\n    }\r\n}\r\n\r\nfunction clearSelection(): void {\r\n    const calendar = document.getElementById(\"playground-calendar\") as any;\r\n    if (!calendar) return;\r\n\r\n    if (calendar.resetSelection && typeof calendar.resetSelection === \"function\") {\r\n        calendar.resetSelection();\r\n        logEvent(\"Selection cleared via resetSelection()\");\r\n    } else {\r\n        // Fallback: clear selection attributes\r\n        calendar.removeAttribute(\"value\");\r\n        calendar.removeAttribute(\"startDate\");\r\n        calendar.removeAttribute(\"endDate\");\r\n        logEvent(\"Selection attributes cleared\");\r\n    }\r\n}\r\n\r\n// Event logging function\r\nfunction logEvent(message: string): void {\r\n    const eventOutput = document.getElementById(\"event-output\");\r\n    if (!eventOutput) return;\r\n\r\n    const timestamp = new Date().toLocaleTimeString();\r\n    const logEntry = document.createElement(\"div\");\r\n    logEntry.className = \"event-entry\";\r\n    logEntry.innerHTML = `<span class=\"timestamp\">[${timestamp}]</span> ${message}`;\r\n\r\n    eventOutput.insertBefore(logEntry, eventOutput.firstChild);\r\n\r\n    // Keep only last 10 entries\r\n    while (eventOutput.children.length > 10) {\r\n        const lastChild = eventOutput.lastChild;\r\n        if (lastChild) {\r\n            eventOutput.removeChild(lastChild);\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize calendar examples with special properties\r\nfunction initializeCalendarExamples(): void {\r\n    // Set up disabled dates example\r\n    const disabledDatesCalendar = document.getElementById(\"disabled-dates-example\");\r\n    if (disabledDatesCalendar) {\r\n        // Set disabled dates programmatically\r\n        const disabledDates = [\"2024-12-25\", \"2025-01-01\", \"2024-12-31\"];\r\n        (disabledDatesCalendar as any).disabledDates = disabledDates;\r\n    }\r\n\r\n    // Set up event markers example\r\n    const eventMarkersCalendar = document.getElementById(\"event-markers-example\");\r\n    if (eventMarkersCalendar) {\r\n        // Set event markers programmatically\r\n        const eventMarkers = [\r\n            { date: \"2024-12-25\", color: \"red\", tooltip: \"Christmas\" },\r\n            { date: \"2025-01-01\", color: \"green\", tooltip: \"New Year\" },\r\n        ];\r\n        (eventMarkersCalendar as any).eventMarkers = eventMarkers;\r\n    }\r\n}\r\n\r\n// Initialize interactions when the page loads\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Initialize special examples\r\n    initializeCalendarExamples();\r\n\r\n    // Add event listeners to all calendar components\r\n    document.querySelectorAll(\"mjo-calendar\").forEach((calendar) => {\r\n        calendar.addEventListener(\"date-selected\", (ev: Event) => {\r\n            const event = ev as CalendarDateSelectedEvent;\r\n            const value = event.detail.value;\r\n            const date = event.detail.date;\r\n\r\n            const dateStr = date ? date.toLocaleDateString() : value || \"Unknown\";\r\n            logEvent(`Date selected: ${dateStr}`);\r\n\r\n            // Update playground controls if this is the playground calendar\r\n            if (calendar.id === \"playground-calendar\") {\r\n                const valueInput = document.querySelector(\"input[name='value']\") as HTMLInputElement;\r\n                if (valueInput && value) {\r\n                    valueInput.value = value;\r\n                }\r\n            }\r\n        });\r\n\r\n        calendar.addEventListener(\"range-selected\", (ev: Event) => {\r\n            const event = ev as CalendarRangeSelectedEvent;\r\n            const startDate = event.detail.startDate;\r\n            const endDate = event.detail.endDate;\r\n            const startValue = event.detail.startDateValue;\r\n            const endValue = event.detail.endDateValue;\r\n\r\n            const startStr = startDate ? startDate.toLocaleDateString() : startValue || \"Unknown\";\r\n            const endStr = endDate ? endDate.toLocaleDateString() : endValue || \"Unknown\";\r\n            logEvent(`Range selected: ${startStr} - ${endStr}`);\r\n\r\n            // Update playground controls if this is the playground calendar\r\n            if (calendar.id === \"playground-calendar\") {\r\n                const startInput = document.querySelector(\"input[name='startDate']\") as HTMLInputElement;\r\n                const endInput = document.querySelector(\"input[name='endDate']\") as HTMLInputElement;\r\n\r\n                if (startInput && startValue) {\r\n                    startInput.value = startValue;\r\n                }\r\n                if (endInput && endValue) {\r\n                    endInput.value = endValue;\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    // Initialize event log\r\n    logEvent(\"Calendar demo page loaded and ready\");\r\n});\r\n\r\n// Make functions globally available\r\nwindow.changeCalendarProp = changeCalendarProp;\r\nwindow.resetCalendar = resetCalendar;\r\nwindow.setToday = setToday;\r\nwindow.clearSelection = clearSelection;\r\n\r\n// Type declarations for global functions\r\ndeclare global {\r\n    interface Window {\r\n        changeCalendarProp: (prop: string, value: string | boolean) => void;\r\n        resetCalendar: () => void;\r\n        setToday: () => void;\r\n        clearSelection: () => void;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}