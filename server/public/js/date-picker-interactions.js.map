{"version":3,"file":"date-picker-interactions.js","sources":["../../client/date-picker-interactions.ts"],"sourcesContent":["// Date Picker Interactive Demo TypeScript\r\n// This functionality loads after client hydration\r\n\r\nimport { DatePickerChangeEvent } from \"../../src/types/mjo-date-picker.js\";\r\n\r\n// Playground interactions\r\nfunction changeDatePickerProp(prop: string, value: string | boolean): void {\r\n    const datePicker = document.getElementById(\"playground-date-picker\");\r\n    if (!datePicker) return;\r\n\r\n    if (typeof value === \"string\") {\r\n        if (value === \"\") {\r\n            datePicker.removeAttribute(prop);\r\n        } else {\r\n            datePicker.setAttribute(prop, value);\r\n        }\r\n    } else {\r\n        if (value) {\r\n            datePicker.setAttribute(prop, \"\");\r\n        } else {\r\n            datePicker.removeAttribute(prop);\r\n        }\r\n    }\r\n\r\n    // Special handling for some properties\r\n    if (prop === \"range\") {\r\n        // Clear value when switching modes to avoid format conflicts\r\n        datePicker.removeAttribute(\"value\");\r\n\r\n        // Update placeholder based on mode\r\n        const placeholder = value ? \"Select start and end dates...\" : \"Choose a date...\";\r\n        datePicker.setAttribute(\"placeholder\", placeholder);\r\n\r\n        // Update the placeholder input field\r\n        const placeholderInput = document.querySelector('input[placeholder=\"Enter placeholder...\"]') as HTMLInputElement;\r\n        if (placeholderInput) {\r\n            placeholderInput.value = placeholder;\r\n        }\r\n    }\r\n\r\n    if (prop === \"announceSelections\") {\r\n        // This property works inversely with the checkbox (disable announcements)\r\n        const actualValue = !value;\r\n        if (actualValue) {\r\n            datePicker.removeAttribute(\"disabled-announce-selections\");\r\n        } else {\r\n            datePicker.setAttribute(\"disabled-announce-selections\", \"\");\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize interactions when the page loads\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Add event listeners to all date pickers\r\n    document.querySelectorAll(\"mjo-date-picker\").forEach((datePicker) => {\r\n        datePicker.addEventListener(\"change\", (ev: Event) => {\r\n            const event = ev as DatePickerChangeEvent;\r\n            const { value, date, startDate, endDate } = event.detail;\r\n\r\n            let message = `Date picker changed!\\nValue: ${value}`;\r\n\r\n            if (startDate && endDate) {\r\n                message += `\\nStart: ${startDate.toLocaleDateString()}`;\r\n                message += `\\nEnd: ${endDate.toLocaleDateString()}`;\r\n\r\n                const days = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\r\n                message += `\\nDuration: ${days} days`;\r\n            } else if (date) {\r\n                message += `\\nSelected: ${date.toLocaleDateString()}`;\r\n            }\r\n\r\n            console.log(message);\r\n\r\n            // Show notification for playground component\r\n            if (datePicker.id === \"playground-date-picker\") {\r\n                showNotification(message);\r\n            }\r\n        });\r\n    });\r\n\r\n    // Handle form submission\r\n    const forms = document.querySelectorAll(\"mjo-form\");\r\n    forms.forEach((form) => {\r\n        form.addEventListener(\"submit\", (ev: Event) => {\r\n            const event = ev as CustomEvent;\r\n            const { response } = event.detail;\r\n\r\n            if (response.error) {\r\n                console.error(\"Form validation error:\", response.errmsg);\r\n                alert(\"Form validation failed: \" + response.errmsg.join(\", \"));\r\n            } else {\r\n                console.log(\"Form submitted successfully:\", response.data);\r\n                alert(\"Form submitted!\\n\" + JSON.stringify(response.data, null, 2));\r\n\r\n                // Reset loading state\r\n                setTimeout(() => {\r\n                    if (response.submitButton) {\r\n                        response.submitButton.loading = false;\r\n                    }\r\n                }, 1500);\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// Show notification helper\r\nfunction showNotification(message: string): void {\r\n    // Remove existing notifications\r\n    const existing = document.querySelector(\".date-picker-notification\");\r\n    if (existing) {\r\n        existing.remove();\r\n    }\r\n\r\n    // Create notification element\r\n    const notification = document.createElement(\"div\");\r\n    notification.className = \"date-picker-notification\";\r\n    notification.style.cssText = `\r\n        position: fixed;\r\n        top: 20px;\r\n        right: 20px;\r\n        background: var(--mjo-background-color);\r\n        color: var(--mjo-text-color);\r\n        padding: 12px 16px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        border: 1px solid var(--mjo-border-color);\r\n        z-index: 1000;\r\n        max-width: 300px;\r\n        white-space: pre-line;\r\n        font-size: 14px;\r\n        animation: slideIn 0.3s ease-out;\r\n    `;\r\n\r\n    notification.textContent = message;\r\n    document.body.appendChild(notification);\r\n\r\n    // Auto-remove after 4 seconds\r\n    setTimeout(() => {\r\n        notification.style.animation = \"slideOut 0.3s ease-in\";\r\n        setTimeout(() => {\r\n            if (notification.parentNode) {\r\n                notification.remove();\r\n            }\r\n        }, 300);\r\n    }, 4000);\r\n}\r\n\r\n// Add CSS animations\r\nconst style = document.createElement(\"style\");\r\nstyle.textContent = `\r\n    @keyframes slideIn {\r\n        from {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n    @keyframes slideOut {\r\n        from {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n        }\r\n        to {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n        }\r\n    }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\n// Make function globally available\r\nwindow.changeDatePickerProp = changeDatePickerProp;\r\n\r\n// Global declarations\r\ndeclare global {\r\n    interface Window {\r\n        changeDatePickerProp: (prop: string, value: string | boolean) => void;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}