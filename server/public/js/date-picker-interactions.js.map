{"version":3,"file":"date-picker-interactions.js","sources":["../../client/date-picker-interactions.ts"],"sourcesContent":["// Date Picker Interactive Demo TypeScript\r\n// This functionality loads after client hydration\r\n\r\nimport { DatePickerChangeEvent } from \"../../src/types/mjo-date-picker.js\";\r\n\r\n// Playground interactions\r\nfunction changeDatePickerProp(prop: string, value: string | boolean): void {\r\n    const datePicker = document.getElementById(\"playground-date-picker\");\r\n    if (!datePicker) return;\r\n\r\n    if (typeof value === \"string\") {\r\n        if (value === \"\") {\r\n            datePicker.removeAttribute(prop);\r\n        } else {\r\n            datePicker.setAttribute(prop, value);\r\n        }\r\n    } else {\r\n        if (value) {\r\n            datePicker.setAttribute(prop, \"\");\r\n        } else {\r\n            datePicker.removeAttribute(prop);\r\n        }\r\n    }\r\n\r\n    // Special handling for some properties\r\n    if (prop === \"range\") {\r\n        // Clear value when switching modes to avoid format conflicts\r\n        datePicker.removeAttribute(\"value\");\r\n        \r\n        // Update placeholder based on mode\r\n        const placeholder = value ? \"Select start and end dates...\" : \"Choose a date...\";\r\n        datePicker.setAttribute(\"placeholder\", placeholder);\r\n        \r\n        // Update the placeholder input field\r\n        const placeholderInput = document.querySelector('input[placeholder=\"Enter placeholder...\"]') as HTMLInputElement;\r\n        if (placeholderInput) {\r\n            placeholderInput.value = placeholder;\r\n        }\r\n    }\r\n\r\n    if (prop === \"announceSelections\") {\r\n        // This property works inversely with the checkbox (disable announcements)\r\n        const actualValue = !value;\r\n        if (actualValue) {\r\n            datePicker.removeAttribute(\"disabled-announce-selections\");\r\n        } else {\r\n            datePicker.setAttribute(\"disabled-announce-selections\", \"\");\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize interactions when the page loads\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Add event listeners to all date pickers\r\n    document.querySelectorAll(\"mjo-date-picker\").forEach((datePicker) => {\r\n        datePicker.addEventListener(\"date-picker-change\", (ev: Event) => {\r\n            const event = ev as DatePickerChangeEvent;\r\n            const { value, date, startDate, endDate } = event.detail;\r\n            \r\n            let message = `Date picker changed!\\nValue: ${value}`;\r\n            \r\n            if (startDate && endDate) {\r\n                message += `\\nStart: ${startDate.toLocaleDateString()}`;\r\n                message += `\\nEnd: ${endDate.toLocaleDateString()}`;\r\n                \r\n                const days = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\r\n                message += `\\nDuration: ${days} days`;\r\n            } else if (date) {\r\n                message += `\\nSelected: ${date.toLocaleDateString()}`;\r\n            }\r\n            \r\n            console.log(message);\r\n            \r\n            // Show notification for playground component\r\n            if (datePicker.id === \"playground-date-picker\") {\r\n                showNotification(message);\r\n            }\r\n        });\r\n    });\r\n\r\n    // Handle form submission\r\n    const forms = document.querySelectorAll(\"mjo-form\");\r\n    forms.forEach((form) => {\r\n        form.addEventListener(\"submit\", (ev: Event) => {\r\n            const event = ev as CustomEvent;\r\n            const { response } = event.detail;\r\n            \r\n            if (response.error) {\r\n                console.error(\"Form validation error:\", response.errmsg);\r\n                alert(\"Form validation failed: \" + response.errmsg.join(\", \"));\r\n            } else {\r\n                console.log(\"Form submitted successfully:\", response.data);\r\n                alert(\"Form submitted!\\n\" + JSON.stringify(response.data, null, 2));\r\n                \r\n                // Reset loading state\r\n                setTimeout(() => {\r\n                    if (response.submitButton) {\r\n                        response.submitButton.loading = false;\r\n                    }\r\n                }, 1500);\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// Show notification helper\r\nfunction showNotification(message: string): void {\r\n    // Remove existing notifications\r\n    const existing = document.querySelector(\".date-picker-notification\");\r\n    if (existing) {\r\n        existing.remove();\r\n    }\r\n\r\n    // Create notification element\r\n    const notification = document.createElement(\"div\");\r\n    notification.className = \"date-picker-notification\";\r\n    notification.style.cssText = `\r\n        position: fixed;\r\n        top: 20px;\r\n        right: 20px;\r\n        background: var(--mjo-background-color);\r\n        color: var(--mjo-text-color);\r\n        padding: 12px 16px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        border: 1px solid var(--mjo-border-color);\r\n        z-index: 1000;\r\n        max-width: 300px;\r\n        white-space: pre-line;\r\n        font-size: 14px;\r\n        animation: slideIn 0.3s ease-out;\r\n    `;\r\n    \r\n    notification.textContent = message;\r\n    document.body.appendChild(notification);\r\n\r\n    // Auto-remove after 4 seconds\r\n    setTimeout(() => {\r\n        notification.style.animation = \"slideOut 0.3s ease-in\";\r\n        setTimeout(() => {\r\n            if (notification.parentNode) {\r\n                notification.remove();\r\n            }\r\n        }, 300);\r\n    }, 4000);\r\n}\r\n\r\n// Add CSS animations\r\nconst style = document.createElement(\"style\");\r\nstyle.textContent = `\r\n    @keyframes slideIn {\r\n        from {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n    @keyframes slideOut {\r\n        from {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n        }\r\n        to {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n        }\r\n    }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\n// Make function globally available\r\nwindow.changeDatePickerProp = changeDatePickerProp;\r\n\r\n// Global declarations\r\ndeclare global {\r\n    interface Window {\r\n        changeDatePickerProp: (prop: string, value: string | boolean) => void;\r\n    }\r\n}\r\n"],"names":["changeDatePickerProp","prop","value","datePicker","placeholder","placeholderInput","ev","event","date","startDate","endDate","message","days","showNotification","form","response","existing","notification","style"],"mappings":"AAMA,SAASA,EAAqBC,EAAcC,EAA+B,CACjE,MAAAC,EAAa,SAAS,eAAe,wBAAwB,EACnE,GAAKA,EAiBL,IAfI,OAAOD,GAAU,SACbA,IAAU,GACVC,EAAW,gBAAgBF,CAAI,EAEpBE,EAAA,aAAaF,EAAMC,CAAK,EAGnCA,EACWC,EAAA,aAAaF,EAAM,EAAE,EAEhCE,EAAW,gBAAgBF,CAAI,EAKnCA,IAAS,QAAS,CAElBE,EAAW,gBAAgB,OAAO,EAG5B,MAAAC,EAAcF,EAAQ,gCAAkC,mBACnDC,EAAA,aAAa,cAAeC,CAAW,EAG5C,MAAAC,EAAmB,SAAS,cAAc,2CAA2C,EACvFA,IACAA,EAAiB,MAAQD,EAEjC,CAEIH,IAAS,uBAEW,CAACC,EAEjBC,EAAW,gBAAgB,8BAA8B,EAE9CA,EAAA,aAAa,+BAAgC,EAAE,GAGtE,CAGA,SAAS,iBAAiB,mBAAoB,UAAY,CAEtD,SAAS,iBAAiB,iBAAiB,EAAE,QAASA,GAAe,CACtDA,EAAA,iBAAiB,qBAAuBG,GAAc,CAC7D,MAAMC,EAAQD,EACR,CAAE,MAAAJ,EAAO,KAAAM,EAAM,UAAAC,EAAW,QAAAC,GAAYH,EAAM,OAElD,IAAII,EAAU;AAAA,SAAgCT,CAAK,GAEnD,GAAIO,GAAaC,EAAS,CACXC,GAAA;AAAA,SAAYF,EAAU,mBAAoB,CAAA,GAC1CE,GAAA;AAAA,OAAUD,EAAQ,mBAAoB,CAAA,GAEjD,MAAME,EAAO,KAAK,MAAMF,EAAQ,QAAQ,EAAID,EAAU,QAAA,IAAc,IAAO,GAAK,GAAK,GAAG,EAC7EE,GAAA;AAAA,YAAeC,CAAI,aACvBJ,IACIG,GAAA;AAAA,YAAeH,EAAK,mBAAoB,CAAA,IAGvD,QAAQ,IAAIG,CAAO,EAGfR,EAAW,KAAO,0BAClBU,EAAiBF,CAAO,CAC5B,CACH,CAAA,CACJ,EAGa,SAAS,iBAAiB,UAAU,EAC5C,QAASG,GAAS,CACfA,EAAA,iBAAiB,SAAWR,GAAc,CAC3C,MAAMC,EAAQD,EACR,CAAE,SAAAS,CAAS,EAAIR,EAAM,OAEvBQ,EAAS,OACD,QAAA,MAAM,yBAA0BA,EAAS,MAAM,EACvD,MAAM,2BAA6BA,EAAS,OAAO,KAAK,IAAI,CAAC,IAErD,QAAA,IAAI,+BAAgCA,EAAS,IAAI,EACzD,MAAM;AAAA,EAAsB,KAAK,UAAUA,EAAS,KAAM,KAAM,CAAC,CAAC,EAGlE,WAAW,IAAM,CACTA,EAAS,eACTA,EAAS,aAAa,QAAU,KAErC,IAAI,EACX,CACH,CAAA,CACJ,CACL,CAAC,EAGD,SAASF,EAAiBF,EAAuB,CAEvC,MAAAK,EAAW,SAAS,cAAc,2BAA2B,EAC/DA,GACAA,EAAS,OAAO,EAId,MAAAC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAY,2BACzBA,EAAa,MAAM,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAiB7BA,EAAa,YAAcN,EAClB,SAAA,KAAK,YAAYM,CAAY,EAGtC,WAAW,IAAM,CACbA,EAAa,MAAM,UAAY,wBAC/B,WAAW,IAAM,CACTA,EAAa,YACbA,EAAa,OAAO,GAEzB,GAAG,GACP,GAAI,CACX,CAGA,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBpB,SAAS,KAAK,YAAYA,CAAK,EAG/B,OAAO,qBAAuBlB"}